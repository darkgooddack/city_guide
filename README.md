# City Guide Ростов-на-дону

### City Guide Ростов-на-Дону — ваш персональный помощник для изучения города. Бот уведомляет о мероприятиях и подбирает заведения на основе ваших предпочтений, локации и времени, чтобы сделать ваш отдых интересным и удобным.

https://t.me/@Rostov_CityBot

Оглавнение:
- Цели
- Технологии
- Использование
- Deploy
- Команда проекта

## Цели
Целью данного проекта была разработка прототипа бота-помощника, который будет предоставлять персонализированные рекомендации мест, маршрутов и мероприятий на основе данных о предпочтениях пользователя, его локации и времени. Бот должен учитывать специфику Ростова-на-Дону, включая культурные особенности и традиции.


## Технологии
Для разработки был выбран язык программирования Python 3.12 из-за наличия подходящих библиотек и удобного их использования. 
Использованные библиотеки:
- aiogram - для асинхронной работы с Telegram API;
- SQLAlchemy - для взаимодействия с базой данных;
- Alembic - для упрощения управления изменениями в структуре базы данных, позволяя легко обновлять и откатывать схемы;
- asyncpg - для ассинхронного подключения к PostgreSQL;
- psycopg2-binary - адаптер для PostgreSQL, поддерживающий множество функций;
- Pydantic - для более надёжной валидации данных;
- pydantic-settings - для более удобной работы с Pydantic.

## Использование

В проекте предусмотрены две основные роли: пользователь и администратор. 

### Пользователь
#### Начало работы
Для начала работы необходимо написать `/start`, затем подписаться на рассылку уведомлений, нажав на появившуюся кнопку `Подписаться на рассылку`. После этого будет доступен функционал бота.
#### Настройки
После подписки на рассылку следует нажать на кнопку `Настройки` для установки своих вкусовых предпочтений, интересов, свободного времени и бюджета, поочерёдно нажав на кнопки `Изменить кухню`, `Изменить интересы`, `Изменить время` и `Изменить бюджет` соответственно и выбрать предложенные варианты из списка.
Для включения или отключения уведомлений требуется нажать на кнопку `Изменить уведомления` в меню настроек.

### Администратор:
Администраторы имеют доступ ко всем функциям пользователей, а также к дополнительным возможностям для управления данными:
- добавление, обновление и удаление мест для посещения и текущих событий;
- повышение и понижение пользователей по должности admin.


## Deploy
Для развертывания бота City Guide Ростов-на-Дону, следуйте приведенным ниже шагам:

### 1. Клонирование репозитория

Сначала клонируйте репозиторий на свою локальную машину:

```bash
git clone https://github.com/darkgooddack/city_guide
```
### 2. Установка зависимостей

Убедитесь, что на вашей машине установлен Python версии 3.12 или выше. Затем установите необходимые зависимости, выполнив:
```bash
pip install -r requirements.txt
```

### 3. Настройка переменных окружения

Создайте файл .env в корневом каталоге проекта и добавьте следующие переменные окружения:
```
# telegram bot
BOT_TOKEN=your_bot_token
    
# PostgreSQL
DB_HOST=your_db_host
DB_PORT=your_db_port
DB_USER=your_db_user
DB_NAME=your_db_name
DB_PASS=your_db_pass
```
Убедитесь, что вы заменили Ваш_токен_Telegram_бота на ваш актуальный токен бота Telegram и указали корректный данные подключения к вашей БД.

### 4. Создание и инициализация базы данных

Создайте базу данных и выполните миграции:
```
alembic upgrade head
```
### 5. Запуск бота

После выполнения всех предыдущих шагов, вы можете запустить бота с помощью следующей команды:
```
python main.py
```

## Команда проекта
- Пицуха Ульяна - [darkgooddack](https://github.com/darkgooddack)
- Владимиров Андрей - [DKVederko](https://github.com/DKVederko)


